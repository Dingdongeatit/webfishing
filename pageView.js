window.__wb_timing={docStartAt:performance.now(),pageViewRequireAt:performance.now()};(async function(){if(chrome.runtime.getManifest().manifest_version>2){let{perfLog:t}=await import("../chunks/console-6E2KOOPF.js");t("PAGE VIEW")}let{FontLoader:e}=await import(chrome.runtime.getURL("/notifications/FontLoader.js"));e.Init(document,chrome.runtime.getURL)})();var d,c=new Promise((e,t)=>{d=e}),s;(async function(){s=await import(chrome.runtime.getURL("/notifications/platformSites.js")),d()})();var m,u=new Promise((e,t)=>{m=e});chrome.runtime.getManifest().manifest_version>2&&chrome.storage.local.set({window_devicePixelRatio:window.devicePixelRatio,window_screen:{availWidth:window.screen.availWidth,availHeight:window.screen.availHeight,width:window.screen.width,height:window.screen.height}});chrome.runtime.onMessage.addListener((e,t,i)=>{if(e.type==="loadDeferredPrograms")window.__wb_deferredPrograms=e.deferredPrograms;else{if(e.type==="getSitePlatform")return(async()=>{await c;let r=await s.getPlatformV2({domain:e.data.domain,mobile:!1});i(r)})(),!0;if(e.type==="setupAsyncTiggerMessenger")return(async()=>(await c,i(!0)))(),!0}});chrome.runtime.sendMessage({type:"pageView",url:window.location.href,referrer:document.referrer,title:document.title},e=>{let{pageViewId:t,protect:i}=e;window.__wb_page_view_id=t,m({pageViewId:t,protect:i})});document.addEventListener("DOMContentLoaded",()=>{window.__wb_timing.DOMContentLoadedAt=performance.now()});function w(e,t){return new Promise((i,r)=>{let n=document.querySelector(e);if(n){i(n);return}let o;new MutationObserver((l,a)=>{!o&&t&&(o=setTimeout(()=>{i(!1),a.disconnect()},t)),n=document.querySelector(e),n&&(i(n),clearTimeout(o),a.disconnect())}).observe(document.documentElement,{childList:!0,subtree:!0})})}function f(){w(".edit_checkout button.tag__button",1e3).then(e=>{e&&(e.addEventListener("click",t=>{t.isTrusted||(t.preventDefault(),t.stopPropagation())}),chrome.runtime.sendMessage({type:"injectShopifyRemoveCodeProtection",url:window.location.href}))})}w("body").then(async e=>{if(e){let t=await u;if(!t||!t.protect)return;f()}});
